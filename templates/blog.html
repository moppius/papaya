{% import "macros/page.html" as page_macros %}
{% extends "base.html" %}

{% block title %}{{ trans(key="blog", lang=lang) }} - {{ config.title }}{% endblock title %}

{% block ogp_head %}
    <meta property="og:title" content="{{ trans(key="blog", lang=lang) }} - {{ config.title }}">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Things that I've been writing about">
    <meta property="og:locale" content="{{ config.extra.ogp.locale }}">
    <meta property="og:url" content="{{ get_url(path='blog') | safe }}">
    <meta property="og:image" content="{{ get_url(path="/about/me.jpg") | safe }}">
{% endblock %}

{% block content %}
<main id="main" tabindex="-1">
    {% block heading %}
    <h1>Blog</h1>
    <p>
        {% if section.relative_path is ending_with("." ~ lang ~ ".md") %}
            {% set tags_url = "/" ~ lang ~ "/tags" %}
        {% else %}
            {% set tags_url = "/tags" %}
        {% endif %}
        {{ trans(key="view_by", lang=lang) }}: <a href="{{ tags_url | safe }}">{{ trans(key="tags", lang=lang) }}</a>
    </p>
    {% endblock heading %}
    {% if paginator.pages %}
        {% for page in paginator.pages %}
            {{ page_macros::page_listing(page=page) }}
        {% endfor %}
        {{ page_macros::page_pagination(paginator=paginator) }}
    {% else %}
        {% for page in section.pages %}
            {{ page_macros::page_listing(page=page) }}
        {% endfor %}
    {% endif %}
</main>
{% endblock content %}
